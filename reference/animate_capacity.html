<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Animate the spread of simulated territories from beavertools::territory_cap() — animate_capacity • beavertools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Animate the spread of simulated territories from beavertools::territory_cap() — animate_capacity"><meta name="description" content="This (somewhat experimental) funtion allows the user to simulate the expansion of beaver populations.
At present this isvery simple and territories in the largest channels with the best habitat are occupied first.
We intend to develop this function to allow for alternative expansion hypotheses."><meta property="og:description" content="This (somewhat experimental) funtion allows the user to simulate the expansion of beaver populations.
At present this isvery simple and territories in the largest channels with the best habitat are occupied first.
We intend to develop this function to allow for alternative expansion hypotheses."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">beavertools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/h-a-graham/beavertools" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Animate the spread of simulated territories from <code>beavertools::territory_cap()</code></h1>

      <div class="d-none name"><code>animate_capacity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This (somewhat experimental) funtion allows the user to simulate the expansion of beaver populations.
At present this isvery simple and territories in the largest channels with the best habitat are occupied first.
We intend to develop this function to allow for alternative expansion hypotheses.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">animate_capacity</span><span class="op">(</span></span>
<span>  <span class="va">terr_capacity</span>,</span>
<span>  buffer <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  river_net <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  basemap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  basemap_type <span class="op">=</span> <span class="st">"cartolight"</span>,</span>
<span>  axes_units <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scalebar <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scalebar_loc <span class="op">=</span> <span class="st">"tl"</span>,</span>
<span>  north_arrow <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  north_arrow_loc <span class="op">=</span> <span class="st">"br"</span>,</span>
<span>  north_arrow_size <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  wgs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  guide <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  catchment <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rivers <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_extent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  x_pix <span class="op">=</span> <span class="fl">1200</span>,</span>
<span>  y_pix <span class="op">=</span> <span class="fl">675</span>,</span>
<span>  pix_res <span class="op">=</span> <span class="fl">96</span>,</span>
<span>  n_frames <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  fps <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-terr-capacity">terr_capacity<a class="anchor" aria-label="anchor" href="#arg-terr-capacity"></a></dt>
<dd><p>output from <code><a href="territory_cap.html">beavertools::territory_cap()</a></code> which gives the maximum number of territories that can
fit within the catchment.</p></dd>


<dt id="arg-buffer">buffer<a class="anchor" aria-label="anchor" href="#arg-buffer"></a></dt>
<dd><p>the buffer size to use to visualise the territories - larger buffers are better for visualising the territories
but can give the impression of overlap between territories.</p></dd>


<dt id="arg-river-net">river_net<a class="anchor" aria-label="anchor" href="#arg-river-net"></a></dt>
<dd><p>Supply the river network or BeaverNetwork useed to generate the terr_capacity object. This is added as a basemap layer
to display the river network.</p></dd>


<dt id="arg-basemap">basemap<a class="anchor" aria-label="anchor" href="#arg-basemap"></a></dt>
<dd><p>Boolean, include an OSM basemap. (optional)</p></dd>


<dt id="arg-basemap-type">basemap_type<a class="anchor" aria-label="anchor" href="#arg-basemap-type"></a></dt>
<dd><p>Character vector for osm map type. for options see <code><a href="https://rdrr.io/pkg/rosm/man/deprecated.html" class="external-link">rosm::osm.types()</a></code></p></dd>


<dt id="arg-axes-units">axes_units<a class="anchor" aria-label="anchor" href="#arg-axes-units"></a></dt>
<dd><p>Boolean to include coordinate values on axis.</p></dd>


<dt id="arg-scalebar">scalebar<a class="anchor" aria-label="anchor" href="#arg-scalebar"></a></dt>
<dd><p>Boolean to include a scalebar.</p></dd>


<dt id="arg-scalebar-loc">scalebar_loc<a class="anchor" aria-label="anchor" href="#arg-scalebar-loc"></a></dt>
<dd><p>character vector for the scalebar location one of:'tl', 'bl', 'tr', 'br' Meaning "top left" etc.</p></dd>


<dt id="arg-north-arrow">north_arrow<a class="anchor" aria-label="anchor" href="#arg-north-arrow"></a></dt>
<dd><p>Boolean to include a north arrow</p></dd>


<dt id="arg-north-arrow-loc">north_arrow_loc<a class="anchor" aria-label="anchor" href="#arg-north-arrow-loc"></a></dt>
<dd><p>character vector for the arrow location one of:'tl', 'bl', 'tr', 'br' Meaning "top left" etc.</p></dd>


<dt id="arg-north-arrow-size">north_arrow_size<a class="anchor" aria-label="anchor" href="#arg-north-arrow-size"></a></dt>
<dd><p>numeric vector for the arrow</p></dd>


<dt id="arg-wgs">wgs<a class="anchor" aria-label="anchor" href="#arg-wgs"></a></dt>
<dd><p>Boolean to transform coordinate reference system (CRS) to WGS84 (EPSG:4326)</p></dd>


<dt id="arg-guide">guide<a class="anchor" aria-label="anchor" href="#arg-guide"></a></dt>
<dd><p>Boolean to include a legend</p></dd>


<dt id="arg-catchment">catchment<a class="anchor" aria-label="anchor" href="#arg-catchment"></a></dt>
<dd><p>An sf object or an sf-readable file. See sf::st_drivers() for available drivers.
This feature should be a boundary such as a catchment or Area of interest. It is used to mask the
map region outside of desired AOI.</p></dd>


<dt id="arg-rivers">rivers<a class="anchor" aria-label="anchor" href="#arg-rivers"></a></dt>
<dd><p>Boolean to include river lines (downloaded automatcally using the osmdata package).
Probably not reuired if 'river_net' argument is supplied.</p></dd>


<dt id="arg-plot-extent">plot_extent<a class="anchor" aria-label="anchor" href="#arg-plot-extent"></a></dt>
<dd><p>'bbox', 'sf' or 'sp' object defining the desired plot extent.</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>character string for the save path if saving to disk is required.</p></dd>


<dt id="arg-x-pix">x_pix<a class="anchor" aria-label="anchor" href="#arg-x-pix"></a></dt>
<dd><p>numeric denoting width of the animation canvas in pixels</p></dd>


<dt id="arg-y-pix">y_pix<a class="anchor" aria-label="anchor" href="#arg-y-pix"></a></dt>
<dd><p>numeric denoting height of the animation canvas in pixels</p></dd>


<dt id="arg-pix-res">pix_res<a class="anchor" aria-label="anchor" href="#arg-pix-res"></a></dt>
<dd><p>numeric denoting canvas resolution</p></dd>


<dt id="arg-n-frames">n_frames<a class="anchor" aria-label="anchor" href="#arg-n-frames"></a></dt>
<dd><p>numeric for the number of frames to use for transitions</p></dd>


<dt id="arg-fps">fps<a class="anchor" aria-label="anchor" href="#arg-fps"></a></dt>
<dd><p>numeric for the number of frames per second for the resulting animation</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An animated map of territory expansion up to capacity.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># ---------- Subset dataset for example to reduce computation time -----------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">BeavNetOtter</span> <span class="op">&lt;-</span> <span class="va">RivOtter_BeaverNet</span><span class="op">[</span><span class="va">RivOtter_BeaverNet</span><span class="op">$</span><span class="va">Str_order</span> <span class="op">&gt;</span> <span class="fl">3</span>,<span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ---------- run terriroty generation --------</span></span></span>
<span class="r-in"><span><span class="va">test_out</span> <span class="op">&lt;-</span>  <span class="fu"><a href="gen_territories.html">gen_territories</a></span><span class="op">(</span><span class="va">BeavNetOtter</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ------------- Run territory cap -------------</span></span></span>
<span class="r-in"><span><span class="va">test_TC_par</span> <span class="op">&lt;-</span><span class="fu"><a href="territory_cap.html">territory_cap</a></span><span class="op">(</span><span class="va">test_out</span>, multicore <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now animate the spead of territories through catchment</span></span></span>
<span class="r-in"><span><span class="fu">animate_capacity</span><span class="op">(</span><span class="va">test_TC_par</span>, buffer <span class="op">=</span> <span class="fl">75</span>, river_net <span class="op">=</span> <span class="va">BeavNetOtter</span>,</span></span>
<span class="r-in"><span>                           x_pix<span class="op">=</span><span class="fl">600</span>, y_pix<span class="op">=</span><span class="fl">675</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hugh Graham.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

